<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Histopathology QC</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Histopathology QC_files/libs/clipboard/clipboard.min.js"></script>
<script src="Histopathology QC_files/libs/quarto-html/quarto.js"></script>
<script src="Histopathology QC_files/libs/quarto-html/popper.min.js"></script>
<script src="Histopathology QC_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Histopathology QC_files/libs/quarto-html/anchor.min.js"></script>
<link href="Histopathology QC_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Histopathology QC_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Histopathology QC_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Histopathology QC_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Histopathology QC_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#packages" id="toc-packages" class="nav-link active" data-scroll-target="#packages">Packages</a></li>
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions">Functions</a></li>
  <li><a href="#read-in-data" id="toc-read-in-data" class="nav-link" data-scroll-target="#read-in-data">Read in Data</a></li>
  <li><a href="#qc" id="toc-qc" class="nav-link" data-scroll-target="#qc">QC</a>
  <ul>
  <li><a href="#general-analysis" id="toc-general-analysis" class="nav-link" data-scroll-target="#general-analysis">General Analysis</a></li>
  <li><a href="#variable-check" id="toc-variable-check" class="nav-link" data-scroll-target="#variable-check">Variable Check</a></li>
  <li><a href="#specimen" id="toc-specimen" class="nav-link" data-scroll-target="#specimen">Specimen</a>
  <ul>
  <li><a href="#side" id="toc-side" class="nav-link" data-scroll-target="#side">Side</a></li>
  <li><a href="#tumourcount" id="toc-tumourcount" class="nav-link" data-scroll-target="#tumourcount">TumourCount</a></li>
  <li><a href="#screendetected" id="toc-screendetected" class="nav-link" data-scroll-target="#screendetected">ScreenDetected</a></li>
  <li><a href="#specimentype" id="toc-specimentype" class="nav-link" data-scroll-target="#specimentype">SpecimenType</a></li>
  <li><a href="#specimen-weight" id="toc-specimen-weight" class="nav-link" data-scroll-target="#specimen-weight">Specimen Weight</a></li>
  <li><a href="#axillary-procedure" id="toc-axillary-procedure" class="nav-link" data-scroll-target="#axillary-procedure">Axillary Procedure</a></li>
  <li><a href="#postneoadjuvantchemo" id="toc-postneoadjuvantchemo" class="nav-link" data-scroll-target="#postneoadjuvantchemo">PostNeoadjuvantChemo</a></li>
  </ul></li>
  <li><a href="#in-situ-legion" id="toc-in-situ-legion" class="nav-link" data-scroll-target="#in-situ-legion">In Situ Legion</a>
  <ul>
  <li><a href="#insitucarcinoma" id="toc-insitucarcinoma" class="nav-link" data-scroll-target="#insitucarcinoma">InsituCarcinoma</a></li>
  <li><a href="#ductalcarcinomainsitu" id="toc-ductalcarcinomainsitu" class="nav-link" data-scroll-target="#ductalcarcinomainsitu">DuctalCarcinomaInSitu</a></li>
  <li><a href="#dcisgrade" id="toc-dcisgrade" class="nav-link" data-scroll-target="#dcisgrade">DCISGrade</a></li>
  <li><a href="#solid_dcisgp" id="toc-solid_dcisgp" class="nav-link" data-scroll-target="#solid_dcisgp">Solid_DCISGP</a></li>
  <li><a href="#cribiform_dcisgp" id="toc-cribiform_dcisgp" class="nav-link" data-scroll-target="#cribiform_dcisgp">Cribiform_DCISGP</a></li>
  <li><a href="#micropapillary_dcisgp" id="toc-micropapillary_dcisgp" class="nav-link" data-scroll-target="#micropapillary_dcisgp">Micropapillary_DCISGP</a></li>
  <li><a href="#papillary_dcisgp" id="toc-papillary_dcisgp" class="nav-link" data-scroll-target="#papillary_dcisgp">Papillary_DCISGP</a></li>
  <li><a href="#apocrine_dcisgp" id="toc-apocrine_dcisgp" class="nav-link" data-scroll-target="#apocrine_dcisgp">Apocrine_DCISGP</a></li>
  <li><a href="#flat_dcisgp" id="toc-flat_dcisgp" class="nav-link" data-scroll-target="#flat_dcisgp">Flat_DCISGP</a></li>
  <li><a href="#comedo_dcisgp" id="toc-comedo_dcisgp" class="nav-link" data-scroll-target="#comedo_dcisgp">Comedo_DCISGP</a></li>
  <li><a href="#clinging" id="toc-clinging" class="nav-link" data-scroll-target="#clinging">Clinging</a></li>
  <li><a href="#comedonecrosis" id="toc-comedonecrosis" class="nav-link" data-scroll-target="#comedonecrosis">ComedoNecrosis</a></li>
  <li><a href="#sizedcisonly" id="toc-sizedcisonly" class="nav-link" data-scroll-target="#sizedcisonly">SizeDCISOnly</a></li>
  <li><a href="#lobularcarcinomainsitu" id="toc-lobularcarcinomainsitu" class="nav-link" data-scroll-target="#lobularcarcinomainsitu">LobularCarcinomaInsitu</a></li>
  <li><a href="#pleomorphiclcis" id="toc-pleomorphiclcis" class="nav-link" data-scroll-target="#pleomorphiclcis">PleomorphicLCIS</a></li>
  <li><a href="#pagetsdisease" id="toc-pagetsdisease" class="nav-link" data-scroll-target="#pagetsdisease">PagetsDisease</a></li>
  <li><a href="#microinvasion" id="toc-microinvasion" class="nav-link" data-scroll-target="#microinvasion">Microinvasion</a></li>
  </ul></li>
  <li><a href="#invasive-carcinoma" id="toc-invasive-carcinoma" class="nav-link" data-scroll-target="#invasive-carcinoma">Invasive Carcinoma</a>
  <ul>
  <li><a href="#invasivecarcinoma" id="toc-invasivecarcinoma" class="nav-link" data-scroll-target="#invasivecarcinoma">InvasiveCarcinoma</a></li>
  <li><a href="#sizeinvasivetumour" id="toc-sizeinvasivetumour" class="nav-link" data-scroll-target="#sizeinvasivetumour">SizeInvasiveTumour</a></li>
  <li><a href="#sizewholetumour" id="toc-sizewholetumour" class="nav-link" data-scroll-target="#sizewholetumour">SizeWholeTumour</a></li>
  <li><a href="#type" id="toc-type" class="nav-link" data-scroll-target="#type">Type</a></li>
  <li><a href="#typecomponent" id="toc-typecomponent" class="nav-link" data-scroll-target="#typecomponent">TypeComponent</a></li>
  <li><a href="#invasivegrade" id="toc-invasivegrade" class="nav-link" data-scroll-target="#invasivegrade">InvasiveGrade</a></li>
  <li><a href="#tubules" id="toc-tubules" class="nav-link" data-scroll-target="#tubules">Tubules</a></li>
  <li><a href="#pleomorphism" id="toc-pleomorphism" class="nav-link" data-scroll-target="#pleomorphism">Pleomorphism</a></li>
  <li><a href="#mitoticactivity" id="toc-mitoticactivity" class="nav-link" data-scroll-target="#mitoticactivity">MitoticActivity</a></li>
  <li><a href="#tumourextent" id="toc-tumourextent" class="nav-link" data-scroll-target="#tumourextent">TumourExtent</a></li>
  </ul></li>
  <li><a href="#lymph-nodes" id="toc-lymph-nodes" class="nav-link" data-scroll-target="#lymph-nodes">Lymph Nodes</a>
  <ul>
  <li><a href="#vascularinvasion" id="toc-vascularinvasion" class="nav-link" data-scroll-target="#vascularinvasion">VascularInvasion</a></li>
  <li><a href="#axillarynodespresent" id="toc-axillarynodespresent" class="nav-link" data-scroll-target="#axillarynodespresent">AxillaryNodesPresent</a></li>
  <li><a href="#axillarynodestotal" id="toc-axillarynodestotal" class="nav-link" data-scroll-target="#axillarynodestotal">AxillaryNodesTotal</a></li>
  <li><a href="#axillarynodespositive" id="toc-axillarynodespositive" class="nav-link" data-scroll-target="#axillarynodespositive">AxillaryNodesPositive</a></li>
  <li><a href="#singlenodepositivity" id="toc-singlenodepositivity" class="nav-link" data-scroll-target="#singlenodepositivity">SingleNodePositivity</a></li>
  <li><a href="#othernodespresent" id="toc-othernodespresent" class="nav-link" data-scroll-target="#othernodespresent">OtherNodesPresent</a></li>
  <li><a href="#othernodestotal" id="toc-othernodestotal" class="nav-link" data-scroll-target="#othernodestotal">OtherNodesTotal</a></li>
  <li><a href="#othernodespositive" id="toc-othernodespositive" class="nav-link" data-scroll-target="#othernodespositive">OtherNodesPositive</a></li>
  </ul></li>
  <li><a href="#tnm-stage" id="toc-tnm-stage" class="nav-link" data-scroll-target="#tnm-stage">TNM Stage</a>
  <ul>
  <li><a href="#tstage" id="toc-tstage" class="nav-link" data-scroll-target="#tstage">Tstage</a></li>
  <li><a href="#nstage" id="toc-nstage" class="nav-link" data-scroll-target="#nstage">NStage</a></li>
  <li><a href="#mstage" id="toc-mstage" class="nav-link" data-scroll-target="#mstage">MStage</a></li>
  </ul></li>
  <li><a href="#excision-status" id="toc-excision-status" class="nav-link" data-scroll-target="#excision-status">Excision Status</a>
  <ul>
  <li><a href="#excisionmargin" id="toc-excisionmargin" class="nav-link" data-scroll-target="#excisionmargin">ExcisionMargin</a></li>
  <li><a href="#closestrelevantmargin" id="toc-closestrelevantmargin" class="nav-link" data-scroll-target="#closestrelevantmargin">ClosestRelevantMargin</a></li>
  <li><a href="#er_status" id="toc-er_status" class="nav-link" data-scroll-target="#er_status">ER_Status</a></li>
  <li><a href="#er_type" id="toc-er_type" class="nav-link" data-scroll-target="#er_type">ER_Type</a></li>
  <li><a href="#pr_status" id="toc-pr_status" class="nav-link" data-scroll-target="#pr_status">PR_Status</a></li>
  <li><a href="#pr_type" id="toc-pr_type" class="nav-link" data-scroll-target="#pr_type">PR_Type</a></li>
  <li><a href="#her2_status" id="toc-her2_status" class="nav-link" data-scroll-target="#her2_status">HER2_Status</a></li>
  <li><a href="#her2_score" id="toc-her2_score" class="nav-link" data-scroll-target="#her2_score">HER2_Score</a></li>
  <li><a href="#her2_fish" id="toc-her2_fish" class="nav-link" data-scroll-target="#her2_fish">HER2_FISH</a></li>
  <li><a href="#ck56_status" id="toc-ck56_status" class="nav-link" data-scroll-target="#ck56_status">CK56_Status</a></li>
  <li><a href="#ck56_type" id="toc-ck56_type" class="nav-link" data-scroll-target="#ck56_type">CK56_Type</a></li>
  <li><a href="#ki67" id="toc-ki67" class="nav-link" data-scroll-target="#ki67">Ki67</a></li>
  <li><a href="#icdmorphologycode" id="toc-icdmorphologycode" class="nav-link" data-scroll-target="#icdmorphologycode">ICDMorphologyCode</a></li>
  <li><a href="#brca1" id="toc-brca1" class="nav-link" data-scroll-target="#brca1">BrCa1</a></li>
  <li><a href="#brca2" id="toc-brca2" class="nav-link" data-scroll-target="#brca2">BrCa2</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Histopathology QC</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>This code is to assess the quality of the histopathology data and to indicate changes where needed.</p>
<section id="packages" class="level2">
<h2 class="anchored" data-anchor-id="packages">Packages</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(summarytools)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="functions" class="level2">
<h2 class="anchored" data-anchor-id="functions">Functions</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>get_missing_factors <span class="ot">&lt;-</span> <span class="cf">function</span>(varname, <span class="at">df =</span> hpdata, <span class="at">dict=</span>datadict){</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  first_row <span class="ot">&lt;-</span> <span class="fu">which</span>(dict<span class="sc">$</span>FieldName<span class="sc">==</span>varname)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  dict2 <span class="ot">&lt;-</span> dict[first_row<span class="sc">:</span><span class="fu">nrow</span>(dict),]</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  last_row <span class="ot">&lt;-</span> <span class="fu">min</span>(<span class="fu">which</span>(<span class="sc">!</span><span class="fu">is.na</span>(dict2<span class="sc">$</span>FieldName))[<span class="sc">-</span><span class="dv">1</span>])<span class="sc">-</span><span class="dv">1</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  dict_var <span class="ot">&lt;-</span> dict2[<span class="dv">1</span><span class="sc">:</span>last_row,]</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  dict_codes <span class="ot">&lt;-</span> dict_var<span class="sc">$</span>Code</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  df_codes <span class="ot">&lt;-</span> <span class="fu">unique</span>(df[,<span class="fu">colnames</span>(df)<span class="sc">==</span>varname])</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  df_codes <span class="ot">&lt;-</span> df_codes[<span class="sc">!</span><span class="fu">is.na</span>(df_codes)]</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  missing_codes <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(df_codes, dict_codes)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">length</span>(missing_codes)<span class="sc">&gt;</span><span class="dv">0</span>){</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="fu">paste</span>(<span class="fu">length</span>(missing_codes), <span class="st">"Missing Codes"</span>), <span class="fu">paste</span>(<span class="st">"Missing Codes:"</span>, <span class="fu">paste</span>(missing_codes, <span class="at">collapse =</span> <span class="st">", "</span>)), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"No Missing Codes"</span>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>get_missing_factors_raw <span class="ot">&lt;-</span> <span class="cf">function</span>(varname, <span class="at">df =</span> hpdata, <span class="at">dict=</span>datadict){</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  first_row <span class="ot">&lt;-</span> <span class="fu">which</span>(dict<span class="sc">$</span>FieldName<span class="sc">==</span>varname)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  dict2 <span class="ot">&lt;-</span> dict[first_row<span class="sc">:</span><span class="fu">nrow</span>(dict),]</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  last_row <span class="ot">&lt;-</span> <span class="fu">min</span>(<span class="fu">which</span>(<span class="sc">!</span><span class="fu">is.na</span>(dict2<span class="sc">$</span>FieldName))[<span class="sc">-</span><span class="dv">1</span>])<span class="sc">-</span><span class="dv">1</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  dict_var <span class="ot">&lt;-</span> dict2[<span class="dv">1</span><span class="sc">:</span>last_row,]</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  dict_codes <span class="ot">&lt;-</span> dict_var<span class="sc">$</span>Code</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  df_codes <span class="ot">&lt;-</span> <span class="fu">unique</span>(df[,<span class="fu">colnames</span>(df)<span class="sc">==</span>varname])</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>  df_codes <span class="ot">&lt;-</span> df_codes[<span class="sc">!</span><span class="fu">is.na</span>(df_codes)]</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>  missing_codes <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(df_codes, dict_codes)</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(missing_codes)</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="read-in-data" class="level2">
<h2 class="anchored" data-anchor-id="read-in-data">Read in Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>hpdata <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"R:/CoreData/v20230927/RDSHistopath_BrCa_GS_QC.csv"</span>, <span class="at">na.strings =</span> <span class="st">"NULL"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>datadict <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"C:/Users/rfrost/Documents/Misc/Histopathology QC/Histopath DD - LLM.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="qc" class="level2">
<h2 class="anchored" data-anchor-id="qc">QC</h2>
<section id="general-analysis" class="level4">
<h4 class="anchored" data-anchor-id="general-analysis">General Analysis</h4>
<p>This is quick generated list of missing codes in the Data Dictionary. This excludes TNM coding which is analysed separately. If reading for the purpose of recoding, check this table out, then go to the TNM section and all bases should be covered.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>factor_vars <span class="ot">&lt;-</span> datadict<span class="sc">$</span>FieldName[datadict<span class="sc">$</span>Datatype<span class="sc">%in%</span><span class="fu">c</span>(<span class="st">"varchar"</span>, <span class="st">"char"</span>) <span class="sc">&amp;</span> datadict<span class="sc">$</span><span class="st">`</span><span class="at">Used by LLM?</span><span class="st">`</span><span class="sc">==</span><span class="st">"yes"</span> <span class="sc">&amp;</span> datadict<span class="sc">$</span>DataLength<span class="sc">&lt;</span><span class="dv">6</span>]</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>general_factor_analysis <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">variable_name =</span> factor_vars, <span class="at">missing_factors =</span> <span class="cn">NA</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>general_factor_analysis<span class="sc">$</span>missing_factors <span class="ot">&lt;-</span> <span class="fu">lapply</span>(general_factor_analysis<span class="sc">$</span>variable_name, get_missing_factors_raw)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>general_factor_analysis <span class="ot">&lt;-</span> general_factor_analysis <span class="sc">|&gt;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">|&gt;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">length</span>(missing_factors)<span class="sc">&gt;</span><span class="dv">0</span>)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">gt</span>(general_factor_analysis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="bokqrhtmoc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#bokqrhtmoc table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#bokqrhtmoc thead, #bokqrhtmoc tbody, #bokqrhtmoc tfoot, #bokqrhtmoc tr, #bokqrhtmoc td, #bokqrhtmoc th {
  border-style: none;
}

#bokqrhtmoc p {
  margin: 0;
  padding: 0;
}

#bokqrhtmoc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#bokqrhtmoc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#bokqrhtmoc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#bokqrhtmoc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#bokqrhtmoc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bokqrhtmoc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bokqrhtmoc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bokqrhtmoc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#bokqrhtmoc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#bokqrhtmoc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#bokqrhtmoc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#bokqrhtmoc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#bokqrhtmoc .gt_spanner_row {
  border-bottom-style: hidden;
}

#bokqrhtmoc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#bokqrhtmoc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#bokqrhtmoc .gt_from_md > :first-child {
  margin-top: 0;
}

#bokqrhtmoc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#bokqrhtmoc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#bokqrhtmoc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#bokqrhtmoc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#bokqrhtmoc .gt_row_group_first td {
  border-top-width: 2px;
}

#bokqrhtmoc .gt_row_group_first th {
  border-top-width: 2px;
}

#bokqrhtmoc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bokqrhtmoc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#bokqrhtmoc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#bokqrhtmoc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bokqrhtmoc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bokqrhtmoc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#bokqrhtmoc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#bokqrhtmoc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#bokqrhtmoc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bokqrhtmoc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bokqrhtmoc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bokqrhtmoc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bokqrhtmoc .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bokqrhtmoc .gt_left {
  text-align: left;
}

#bokqrhtmoc .gt_center {
  text-align: center;
}

#bokqrhtmoc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#bokqrhtmoc .gt_font_normal {
  font-weight: normal;
}

#bokqrhtmoc .gt_font_bold {
  font-weight: bold;
}

#bokqrhtmoc .gt_font_italic {
  font-style: italic;
}

#bokqrhtmoc .gt_super {
  font-size: 65%;
}

#bokqrhtmoc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#bokqrhtmoc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#bokqrhtmoc .gt_indent_1 {
  text-indent: 5px;
}

#bokqrhtmoc .gt_indent_2 {
  text-indent: 10px;
}

#bokqrhtmoc .gt_indent_3 {
  text-indent: 15px;
}

#bokqrhtmoc .gt_indent_4 {
  text-indent: 20px;
}

#bokqrhtmoc .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="variable_name">variable_name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="missing_factors">missing_factors</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="variable_name" class="gt_row gt_left">Side</td>
<td headers="missing_factors" class="gt_row gt_center">l</td></tr>
    <tr><td headers="variable_name" class="gt_row gt_left">Solid_DCISGP</td>
<td headers="missing_factors" class="gt_row gt_center">Y</td></tr>
    <tr><td headers="variable_name" class="gt_row gt_left">Cribiform_DCISGP</td>
<td headers="missing_factors" class="gt_row gt_center">Y</td></tr>
    <tr><td headers="variable_name" class="gt_row gt_left">Micropapillary_DCISGP</td>
<td headers="missing_factors" class="gt_row gt_center">Y</td></tr>
    <tr><td headers="variable_name" class="gt_row gt_left">Papillary_DCISGP</td>
<td headers="missing_factors" class="gt_row gt_center">Y</td></tr>
    <tr><td headers="variable_name" class="gt_row gt_left">Apocrine_DCISGP</td>
<td headers="missing_factors" class="gt_row gt_center">Y</td></tr>
    <tr><td headers="variable_name" class="gt_row gt_left">Flat_DCISGP</td>
<td headers="missing_factors" class="gt_row gt_center">Y</td></tr>
    <tr><td headers="variable_name" class="gt_row gt_left">Comedo_DCISGP</td>
<td headers="missing_factors" class="gt_row gt_center">Y</td></tr>
    <tr><td headers="variable_name" class="gt_row gt_left">InvasiveGrade</td>
<td headers="missing_factors" class="gt_row gt_center">1</td></tr>
    <tr><td headers="variable_name" class="gt_row gt_left">AxillaryNodesPresent</td>
<td headers="missing_factors" class="gt_row gt_center">y</td></tr>
    <tr><td headers="variable_name" class="gt_row gt_left">PR_Status</td>
<td headers="missing_factors" class="gt_row gt_center">p</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Just a few issues here coming from TRUE/FALSE coding in the data dictionary to Y/N coding in the data. Also a few upper/lower case issues which should be easily solved.</p>
</section>
<section id="variable-check" class="level4">
<h4 class="anchored" data-anchor-id="variable-check">Variable Check</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>dict_variables <span class="ot">&lt;-</span> datadict<span class="sc">$</span>FieldName</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>dict_variables <span class="ot">&lt;-</span> dict_variables[<span class="sc">!</span><span class="fu">is.na</span>(dict_variables)]</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>data_variables <span class="ot">&lt;-</span> <span class="fu">colnames</span>(hpdata)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>missing_variables <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(data_variables, dict_variables)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Missing Variables in Data Dictionary:"</span>, <span class="fu">paste</span>(missing_variables, <span class="at">collapse =</span> <span class="st">", "</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Missing Variables in Data Dictionary: TCode, DuctalCarcinomaInsitu, Clinging_DCISGP, NStage, MStage, RStage, Pr_Type</code></pre>
</div>
</div>
<p>Just some misspellings of the variables in the dictionary vs the data. Again just upper/lower case issues.</p>
</section>
<section id="specimen" class="level4">
<h4 class="anchored" data-anchor-id="specimen">Specimen</h4>
<section id="side" class="level5">
<h5 class="anchored" data-anchor-id="side">Side</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>Side, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$Side  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          l      1     0.035     0.035
          L   1446    50.630    50.630
          R   1408    49.300    49.300
          U      1     0.035     0.035
       &lt;NA&gt;      0               0.000
      Total   2856   100.000   100.000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"Side"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 Missing Codes
Missing Codes: l</code></pre>
</div>
</div>
<p>Need to recode lower-cases maybe? l to L, r to R etc.</p>
</section>
<section id="tumourcount" class="level5">
<h5 class="anchored" data-anchor-id="tumourcount">TumourCount</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>TumourCount, <span class="at">cumul =</span>F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$TumourCount  
Type: Integer  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          1   2839     99.40     99.40
          2     17      0.60      0.60
       &lt;NA&gt;      0                0.00
      Total   2856    100.00    100.00</code></pre>
</div>
</div>
</section>
<section id="screendetected" class="level5">
<h5 class="anchored" data-anchor-id="screendetected">ScreenDetected</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>ScreenDetected, <span class="at">cumul =</span>F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$ScreenDetected  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          N     32      7.46      1.12
         NK     17      3.96      0.60
          Y    380     88.58     13.31
       &lt;NA&gt;   2427               84.98
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"ScreenDetected"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="specimentype" class="level5">
<h5 class="anchored" data-anchor-id="specimentype">SpecimenType</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>SpecimenType, <span class="at">cumul =</span>F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$SpecimenType  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
        FNA      2     0.070     0.070
         LB     72     2.521     2.521
          M    739    25.875    25.875
        NBO     10     0.350     0.350
         OB     23     0.805     0.805
      Re-ex      1     0.035     0.035
         SE     31     1.085     1.085
        TMP      6     0.210     0.210
        WBB    347    12.150    12.150
        WLE   1625    56.898    56.898
       &lt;NA&gt;      0               0.000
      Total   2856   100.000   100.000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"SpecimenType"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="specimen-weight" class="level5">
<h5 class="anchored" data-anchor-id="specimen-weight">Specimen Weight</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(hpdata<span class="sc">$</span>SpecimenWeight)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   1.31   26.00   51.00  208.80  207.00 4218.00     783 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(hpdata<span class="sc">$</span>SpecimenWeight, <span class="at">main =</span> <span class="st">"Specimen Weight"</span>, <span class="at">xlab =</span> <span class="st">"Weight (g)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Histopathology-QC_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="axillary-procedure" class="level5">
<h5 class="anchored" data-anchor-id="axillary-procedure">Axillary Procedure</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>AxillaryProcedure, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$AxillaryProcedure  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
        ANC    323     14.72     11.31
        ANS    623     28.38     21.81
        NLN    184      8.38      6.44
       OSNA     30      1.37      1.05
        SNB   1035     47.15     36.24
       &lt;NA&gt;    661               23.14
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"AxillaryProcedure"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="postneoadjuvantchemo" class="level5">
<h5 class="anchored" data-anchor-id="postneoadjuvantchemo">PostNeoadjuvantChemo</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>PostNeoadjuvantChemo, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$PostNeoadjuvantChemo  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          C    140     96.55      4.90
          E      3      2.07      0.11
         PC      2      1.38      0.07
       &lt;NA&gt;   2711               94.92
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"PostNeoadjuvantChemo"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
</section>
<section id="in-situ-legion" class="level4">
<h4 class="anchored" data-anchor-id="in-situ-legion">In Situ Legion</h4>
<section id="insitucarcinoma" class="level5">
<h5 class="anchored" data-anchor-id="insitucarcinoma">InsituCarcinoma</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>InsituCarcinoma, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$InsituCarcinoma  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          N    497     18.98     17.40
          P   2121     81.02     74.26
       &lt;NA&gt;    238                8.33
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"InsituCarcinoma"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="ductalcarcinomainsitu" class="level5">
<h5 class="anchored" data-anchor-id="ductalcarcinomainsitu">DuctalCarcinomaInSitu</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>DuctalCarcinomaInsitu, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$DuctalCarcinomaInsitu  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          N    576     23.12     20.17
          P   1915     76.88     67.05
       &lt;NA&gt;    365               12.78
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"DuctalCarcinomaInSitu"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="dcisgrade" class="level5">
<h5 class="anchored" data-anchor-id="dcisgrade">DCISGrade</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>DCISGrade, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$DCISGrade  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          H    962     51.28     33.68
         HI    120      6.40      4.20
          I    537     28.62     18.80
         IL     71      3.78      2.49
          L    184      9.81      6.44
          N      2      0.11      0.07
       &lt;NA&gt;    980               34.31
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"DCISGrade"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="solid_dcisgp" class="level5">
<h5 class="anchored" data-anchor-id="solid_dcisgp">Solid_DCISGP</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>Solid_DCISGP, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$Solid_DCISGP  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          Y    917    100.00     32.11
       &lt;NA&gt;   1939               67.89
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"Solid_DCISGP"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 Missing Codes
Missing Codes: Y</code></pre>
</div>
</div>
<p>Seems like Data Dict needs updating coding system.</p>
</section>
<section id="cribiform_dcisgp" class="level5">
<h5 class="anchored" data-anchor-id="cribiform_dcisgp">Cribiform_DCISGP</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>Cribiform_DCISGP, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$Cribiform_DCISGP  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          Y    847    100.00     29.66
       &lt;NA&gt;   2009               70.34
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"Cribiform_DCISGP"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 Missing Codes
Missing Codes: Y</code></pre>
</div>
</div>
<p>See above.</p>
</section>
<section id="micropapillary_dcisgp" class="level5">
<h5 class="anchored" data-anchor-id="micropapillary_dcisgp">Micropapillary_DCISGP</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>Micropapillary_DCISGP, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$Micropapillary_DCISGP  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          Y    176    100.00      6.16
       &lt;NA&gt;   2680               93.84
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"Micropapillary_DCISGP"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 Missing Codes
Missing Codes: Y</code></pre>
</div>
</div>
</section>
<section id="papillary_dcisgp" class="level5">
<h5 class="anchored" data-anchor-id="papillary_dcisgp">Papillary_DCISGP</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>Papillary_DCISGP, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$Papillary_DCISGP  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          Y     65    100.00      2.28
       &lt;NA&gt;   2791               97.72
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"Papillary_DCISGP"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 Missing Codes
Missing Codes: Y</code></pre>
</div>
</div>
</section>
<section id="apocrine_dcisgp" class="level5">
<h5 class="anchored" data-anchor-id="apocrine_dcisgp">Apocrine_DCISGP</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>Apocrine_DCISGP, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$Apocrine_DCISGP  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          Y     32    100.00      1.12
       &lt;NA&gt;   2824               98.88
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"Apocrine_DCISGP"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 Missing Codes
Missing Codes: Y</code></pre>
</div>
</div>
</section>
<section id="flat_dcisgp" class="level5">
<h5 class="anchored" data-anchor-id="flat_dcisgp">Flat_DCISGP</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>Flat_DCISGP, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$Flat_DCISGP  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          Y     34    100.00      1.19
       &lt;NA&gt;   2822               98.81
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"Flat_DCISGP"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 Missing Codes
Missing Codes: Y</code></pre>
</div>
</div>
</section>
<section id="comedo_dcisgp" class="level5">
<h5 class="anchored" data-anchor-id="comedo_dcisgp">Comedo_DCISGP</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>Comedo_DCISGP, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$Comedo_DCISGP  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          Y    332    100.00     11.62
       &lt;NA&gt;   2524               88.38
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"Comedo_DCISGP"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 Missing Codes
Missing Codes: Y</code></pre>
</div>
</div>
</section>
<section id="clinging" class="level5">
<h5 class="anchored" data-anchor-id="clinging">Clinging</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>Clinging, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          Y     33    100.00      1.16
       &lt;NA&gt;   2823               98.84
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"Clinging"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="comedonecrosis" class="level5">
<h5 class="anchored" data-anchor-id="comedonecrosis">ComedoNecrosis</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>ComedoNecrosis, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$ComedoNecrosis  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
        Mar      5      0.71      0.18
        Mil     18      2.57      0.63
        Mod     23      3.28      0.81
          N    202     28.82      7.07
          Y    453     64.62     15.86
       &lt;NA&gt;   2155               75.46
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"ComedoNecrosis"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="sizedcisonly" class="level5">
<h5 class="anchored" data-anchor-id="sizedcisonly">SizeDCISOnly</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(hpdata<span class="sc">$</span>SizeDCISOnly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   1.00    9.00   17.00   23.45   30.00  153.00    2458 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(hpdata<span class="sc">$</span>SizeDCISOnly, <span class="at">main =</span> <span class="st">"Size of In Situ Carcinoma"</span>, <span class="at">xlab =</span> <span class="st">"Size (mm)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Histopathology-QC_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="lobularcarcinomainsitu" class="level5">
<h5 class="anchored" data-anchor-id="lobularcarcinomainsitu">LobularCarcinomaInsitu</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>LobularCarcinomaInsitu, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$LobularCarcinomaInsitu  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          N    336     47.86     11.76
          Y    366     52.14     12.82
       &lt;NA&gt;   2154               75.42
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"LobularCarcinomaInsitu"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="pleomorphiclcis" class="level5">
<h5 class="anchored" data-anchor-id="pleomorphiclcis">PleomorphicLCIS</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>PleomorphicLCIS, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$PleomorphicLCIS  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          Y     29    100.00      1.02
       &lt;NA&gt;   2827               98.98
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"PleomorphicLCIS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="pagetsdisease" class="level5">
<h5 class="anchored" data-anchor-id="pagetsdisease">PagetsDisease</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>PagetsDisease, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$PagetsDisease  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          N    556     96.19     19.47
          Y     22      3.81      0.77
       &lt;NA&gt;   2278               79.76
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"PagetsDisease"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="microinvasion" class="level5">
<h5 class="anchored" data-anchor-id="microinvasion">Microinvasion</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>Microinvasion, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$Microinvasion  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          N    377     83.59     13.20
          P     74     16.41      2.59
       &lt;NA&gt;   2405               84.21
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"Microinvasion"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
</section>
<section id="invasive-carcinoma" class="level4">
<h4 class="anchored" data-anchor-id="invasive-carcinoma">Invasive Carcinoma</h4>
<section id="invasivecarcinoma" class="level5">
<h5 class="anchored" data-anchor-id="invasivecarcinoma">InvasiveCarcinoma</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>InvasiveCarcinoma, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$InvasiveCarcinoma  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          N    459     16.20     16.07
          P   2375     83.80     83.16
       &lt;NA&gt;     22                0.77
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"InvasiveCarcinoma"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="sizeinvasivetumour" class="level5">
<h5 class="anchored" data-anchor-id="sizeinvasivetumour">SizeInvasiveTumour</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(hpdata<span class="sc">$</span>SizeInvasiveTumour)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   0.70   10.00   16.00   19.66   24.00  174.00     801 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(hpdata<span class="sc">$</span>SizeInvasiveTumour, <span class="at">main =</span> <span class="st">"Size of Invasive Tumour"</span>, <span class="at">xlab =</span> <span class="st">"Size (mm)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Histopathology-QC_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="sizewholetumour" class="level5">
<h5 class="anchored" data-anchor-id="sizewholetumour">SizeWholeTumour</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(hpdata<span class="sc">$</span>SizeWholeTumour)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   1.00   13.00   20.00   24.81   30.00  174.00     860 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(hpdata<span class="sc">$</span>SizeWholeTumour, <span class="at">main =</span> <span class="st">"Size of Whole Tumour"</span>, <span class="at">xlab =</span> <span class="st">"Size (mm)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Histopathology-QC_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="type" class="level5">
<h5 class="anchored" data-anchor-id="type">Type</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>Type, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$Type  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
        MIX     35      1.48      1.23
        MTT     63      2.67      2.21
        NST   1859     78.87     65.09
        OTH     20      0.85      0.70
        PST    380     16.12     13.31
       &lt;NA&gt;    499               17.47
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"Type"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="typecomponent" class="level5">
<h5 class="anchored" data-anchor-id="typecomponent">TypeComponent</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>TypeComponent, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$TypeComponent  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
        Crb      7      1.13      0.25
        D/L     52      8.43      1.82
        Lob    316     51.22     11.06
        Med     20      3.24      0.70
        Muc     48      7.78      1.68
        Oth     90     14.59      3.15
        Pap      6      0.97      0.21
        T/C     10      1.62      0.35
        Tub     57      9.24      2.00
        Tul     11      1.78      0.39
       &lt;NA&gt;   2239               78.40
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"TypeComponent"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="invasivegrade" class="level5">
<h5 class="anchored" data-anchor-id="invasivegrade">InvasiveGrade</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>InvasiveGrade, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$InvasiveGrade  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          1    417     18.01     14.60
         1·      3      0.13      0.11
          2   1156     49.94     40.48
          3    727     31.40     25.46
         NA     12      0.52      0.42
       &lt;NA&gt;    541               18.94
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"InvasiveGrade"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 Missing Codes
Missing Codes: 1 </code></pre>
</div>
</div>
<p>Seems to be a 1. in the dataset that just needs changing.</p>
</section>
<section id="tubules" class="level5">
<h5 class="anchored" data-anchor-id="tubules">Tubules</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>Tubules, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$Tubules  
Type: Integer  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          1    163      9.76      5.71
          2    394     23.59     13.80
          3   1113     66.65     38.97
       &lt;NA&gt;   1186               41.53
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"Tubules"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="pleomorphism" class="level5">
<h5 class="anchored" data-anchor-id="pleomorphism">Pleomorphism</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>Pleomorphism, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$Pleomorphism  
Type: Integer  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          1     54      3.23      1.89
          2    726     43.42     25.42
          3    892     53.35     31.23
       &lt;NA&gt;   1184               41.46
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"Pleomorphism"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="mitoticactivity" class="level5">
<h5 class="anchored" data-anchor-id="mitoticactivity">MitoticActivity</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>MitoticActivity, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$MitoticActivity  
Type: Integer  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          1   1030     61.64     36.06
          2    356     21.30     12.46
          3    285     17.06      9.98
       &lt;NA&gt;   1185               41.49
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"MitoticActivity"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="tumourextent" class="level5">
<h5 class="anchored" data-anchor-id="tumourextent">TumourExtent</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>TumourExtent, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$TumourExtent  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
        LOC    678     70.62     23.74
        MIF    265     27.60      9.28
        UNI     17      1.77      0.60
       &lt;NA&gt;   1896               66.39
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"TumourExtent"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
</section>
<section id="lymph-nodes" class="level4">
<h4 class="anchored" data-anchor-id="lymph-nodes">Lymph Nodes</h4>
<section id="vascularinvasion" class="level5">
<h5 class="anchored" data-anchor-id="vascularinvasion">VascularInvasion</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>VascularInvasion, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$VascularInvasion  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
         NS   1556     73.50     54.48
       Poss     91      4.30      3.19
       Pres    470     22.20     16.46
       &lt;NA&gt;    739               25.88
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"VascularInvasion"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="axillarynodespresent" class="level5">
<h5 class="anchored" data-anchor-id="axillarynodespresent">AxillaryNodesPresent</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>AxillaryNodesPresent, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$AxillaryNodesPresent  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          N    148     6.733     5.182
          y      1     0.045     0.035
          Y   2049    93.221    71.744
       &lt;NA&gt;    658              23.039
      Total   2856   100.000   100.000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"AxillaryNodesPresent"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 Missing Codes
Missing Codes: y</code></pre>
</div>
</div>
<p>Case issue here.</p>
</section>
<section id="axillarynodestotal" class="level5">
<h5 class="anchored" data-anchor-id="axillarynodestotal">AxillaryNodesTotal</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(hpdata<span class="sc">$</span>AxillaryNodesTotal)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
  1.000   2.000   3.000   5.887   7.000  37.000     809 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>invalid_values <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="sc">!</span><span class="fu">is.na</span>(hpdata<span class="sc">$</span>AxillaryNodesTotal[hpdata<span class="sc">$</span>AxillaryNodesPresent<span class="sc">==</span><span class="st">"N"</span> <span class="sc">|</span> <span class="fu">is.na</span>(hpdata<span class="sc">$</span>AxillaryNodesPresent)]))</span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>invalid_TCodes <span class="ot">&lt;-</span> hpdata<span class="sc">$</span>TCode[invalid_values]</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste</span>(<span class="fu">length</span>(invalid_values), <span class="st">"Invalid Values where None/NA Nodes Present but Total Nodes not NA"</span>), </span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">"Invalid TCodes:"</span>, <span class="fu">paste</span>(invalid_TCodes, <span class="at">collapse =</span> <span class="st">", "</span>)), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 Invalid Values where None/NA Nodes Present but Total Nodes not NA
Invalid TCodes: T295H261</code></pre>
</div>
</div>
</section>
<section id="axillarynodespositive" class="level5">
<h5 class="anchored" data-anchor-id="axillarynodespositive">AxillaryNodesPositive</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(hpdata<span class="sc">$</span>AxillaryNodesPositive)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
 0.0000  0.0000  0.0000  0.9346  1.0000 26.0000     807 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>invalid_values <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="sc">!</span><span class="fu">is.na</span>(hpdata<span class="sc">$</span>AxillaryNodesPositive[hpdata<span class="sc">$</span>AxillaryNodesPresent<span class="sc">==</span><span class="st">"N"</span> <span class="sc">|</span> <span class="fu">is.na</span>(hpdata<span class="sc">$</span>AxillaryNodesPresent)]))</span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a>invalid_TCodes <span class="ot">&lt;-</span> hpdata<span class="sc">$</span>TCode[invalid_values]</span>
<span id="cb151-3"><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste</span>(<span class="fu">length</span>(invalid_values), <span class="st">"Invalid Values where None/NA Nodes Present but Positive Nodes not NA"</span>), </span>
<span id="cb151-4"><a href="#cb151-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">"Invalid TCodes:"</span>, <span class="fu">paste</span>(invalid_TCodes, <span class="at">collapse =</span> <span class="st">", "</span>)), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 Invalid Values where None/NA Nodes Present but Positive Nodes not NA
Invalid TCodes: T295H261</code></pre>
</div>
</div>
</section>
<section id="singlenodepositivity" class="level5">
<h5 class="anchored" data-anchor-id="singlenodepositivity">SingleNodePositivity</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>SingleNodePositivity, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$SingleNodePositivity  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
        Iso     11      3.35      0.39
        Met    229     69.82      8.02
        Mic     88     26.83      3.08
       &lt;NA&gt;   2528               88.52
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"SingleNodePositivity"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="othernodespresent" class="level5">
<h5 class="anchored" data-anchor-id="othernodespresent">OtherNodesPresent</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>OtherNodesPresent, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$OtherNodesPresent  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          N    296     73.27     10.36
          Y    108     26.73      3.78
       &lt;NA&gt;   2452               85.85
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"OtherNodesPresent"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="othernodestotal" class="level5">
<h5 class="anchored" data-anchor-id="othernodestotal">OtherNodesTotal</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(hpdata<span class="sc">$</span>OtherNodesTotal)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
  0.000   1.000   2.000   1.982   2.000  12.000    2747 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>invalid_values <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="sc">!</span><span class="fu">is.na</span>(hpdata<span class="sc">$</span>OtherNodesTotal[hpdata<span class="sc">$</span>OtherNodesPresent<span class="sc">==</span><span class="st">"N"</span> <span class="sc">|</span> <span class="fu">is.na</span>(hpdata<span class="sc">$</span>OtherNodesPresent)]))</span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>invalid_TCodes <span class="ot">&lt;-</span> hpdata<span class="sc">$</span>TCode[invalid_values]</span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste</span>(<span class="fu">length</span>(invalid_values), <span class="st">"Invalid Values where None/NA Nodes Present but Total Nodes not NA"</span>), </span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">"Invalid TCodes:"</span>, <span class="fu">paste</span>(invalid_TCodes, <span class="at">collapse =</span> <span class="st">", "</span>)), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 Invalid Values where None/NA Nodes Present but Total Nodes not NA
Invalid TCodes: T379I238</code></pre>
</div>
</div>
</section>
<section id="othernodespositive" class="level5">
<h5 class="anchored" data-anchor-id="othernodespositive">OtherNodesPositive</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(hpdata<span class="sc">$</span>OtherNodesPositive)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
 0.0000  0.0000  0.0000  0.2936  0.0000  3.0000    2747 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>invalid_values <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="sc">!</span><span class="fu">is.na</span>(hpdata<span class="sc">$</span>OtherNodesPositive[hpdata<span class="sc">$</span>OtherNodesPresent<span class="sc">==</span><span class="st">"N"</span> <span class="sc">|</span> <span class="fu">is.na</span>(hpdata<span class="sc">$</span>OtherNodesPresent)]))</span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>invalid_TCodes <span class="ot">&lt;-</span> hpdata<span class="sc">$</span>TCode[invalid_values]</span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste</span>(<span class="fu">length</span>(invalid_values), <span class="st">"Invalid Values where None/NA Nodes Present but Positive Nodes not NA"</span>), </span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">"Invalid TCodes:"</span>, <span class="fu">paste</span>(invalid_TCodes, <span class="at">collapse =</span> <span class="st">", "</span>)), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 Invalid Values where None/NA Nodes Present but Positive Nodes not NA
Invalid TCodes: T379I238</code></pre>
</div>
</div>
</section>
</section>
<section id="tnm-stage" class="level4">
<h4 class="anchored" data-anchor-id="tnm-stage">TNM Stage</h4>
<p>Lots of ‘Missing Codes’ in the dictionary. I have split coding in pre, main, and post and gone by the specifications in the data dictionary. This causes lots of missing codes as inputs can vary greatly for these variables based on the person writing the pathology report.</p>
<section id="tstage" class="level5">
<h5 class="anchored" data-anchor-id="tstage">Tstage</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>preTstage <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"c"</span>, <span class="st">"p"</span>, <span class="st">"yp"</span>, <span class="st">"yc"</span>, <span class="st">""</span>)</span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a>mainTstage <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"TX"</span>, <span class="st">"T0"</span>, <span class="st">"Tis"</span>, <span class="st">"T1"</span>, <span class="st">"T1mic"</span>, <span class="st">"T1mi"</span>, <span class="st">"T1a"</span>, <span class="st">"T1b"</span>, <span class="st">"T1c"</span>, <span class="st">"T2"</span>, <span class="st">"T3"</span>, <span class="st">"T4"</span>, <span class="st">"T4a"</span>, <span class="st">"T4b"</span>, <span class="st">"T4c"</span>, <span class="st">"T4d"</span>)</span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a>postTstage <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"m"</span>, <span class="st">""</span>)</span>
<span id="cb169-4"><a href="#cb169-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-5"><a href="#cb169-5" aria-hidden="true" tabindex="-1"></a>Tstagecodes <span class="ot">&lt;-</span> <span class="fu">character</span>(<span class="dv">0</span>)</span>
<span id="cb169-6"><a href="#cb169-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-7"><a href="#cb169-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(pre <span class="cf">in</span> preTstage){</span>
<span id="cb169-8"><a href="#cb169-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(main <span class="cf">in</span> mainTstage){</span>
<span id="cb169-9"><a href="#cb169-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(post <span class="cf">in</span> postTstage){</span>
<span id="cb169-10"><a href="#cb169-10" aria-hidden="true" tabindex="-1"></a>      Tstagecodes <span class="ot">&lt;-</span> <span class="fu">append</span>(Tstagecodes, <span class="fu">paste0</span>(pre, main, post))</span>
<span id="cb169-11"><a href="#cb169-11" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb169-12"><a href="#cb169-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb169-13"><a href="#cb169-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb169-14"><a href="#cb169-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-15"><a href="#cb169-15" aria-hidden="true" tabindex="-1"></a><span class="co">#freq(hpdata$Tstage) #Maybe don't include this.</span></span>
<span id="cb169-16"><a href="#cb169-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-17"><a href="#cb169-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-18"><a href="#cb169-18" aria-hidden="true" tabindex="-1"></a>missing_codes <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(<span class="fu">unique</span>(hpdata<span class="sc">$</span>Tstage)[<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">unique</span>(hpdata<span class="sc">$</span>Tstage))], Tstagecodes)</span>
<span id="cb169-19"><a href="#cb169-19" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">length</span>(missing_codes)<span class="sc">&gt;</span><span class="dv">0</span>){</span>
<span id="cb169-20"><a href="#cb169-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">paste</span>(<span class="fu">length</span>(missing_codes), <span class="st">"Missing Codes"</span>), <span class="fu">paste</span>(<span class="st">"Missing Codes:"</span>, <span class="fu">paste</span>(missing_codes, <span class="at">collapse =</span> <span class="st">", "</span>)), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb169-21"><a href="#cb169-21" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb169-22"><a href="#cb169-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"No Missing Codes"</span>)</span>
<span id="cb169-23"><a href="#cb169-23" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>41 Missing Codes
Missing Codes: pT2(m), pTis(DCIS), yPT2, yT2, pT1C, pT11, pT1C(m), pT1c(m), pT1b(m), 1b, pT1 G3, yTis, pT3(m), ypT1(multifocal, pT1 G1, pT1c/pT1c, pTis papillary, pT1c(3), pT1c(2), ypTis(DCIS), pTc, NA, pT2 G3, pTis (DCIS), pT, p, pT1(micro), pTx, pN0, pt1a, G3 T2, ypT2a, pTic, ypTx, pT1c (multi), y, pT2(2), pTis - DCIS, pT`c, pT1c(4), pT1a/pT1b</code></pre>
</div>
</div>
</section>
<section id="nstage" class="level5">
<h5 class="anchored" data-anchor-id="nstage">NStage</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a>preNstage <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"c"</span>, <span class="st">"p"</span>, <span class="st">""</span>)</span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a>mainNstage <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"NX"</span>, <span class="st">"N0"</span>, <span class="st">"N1"</span>, <span class="st">"N1mi"</span>, <span class="st">"N1a"</span>, <span class="st">"N1b"</span>, <span class="st">"N1c"</span>, <span class="st">"N2"</span>, <span class="st">"N2a"</span>, <span class="st">"N2b"</span>, <span class="st">"N3"</span>, <span class="st">"N3a"</span>, <span class="st">"N3b"</span>, <span class="st">"N3c"</span>)</span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a>postNstage <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"(sn)"</span>, <span class="st">"(ONSA)"</span>, <span class="st">""</span>)</span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-5"><a href="#cb171-5" aria-hidden="true" tabindex="-1"></a>Nstagecodes <span class="ot">&lt;-</span> <span class="fu">character</span>(<span class="dv">0</span>)</span>
<span id="cb171-6"><a href="#cb171-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-7"><a href="#cb171-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(pre <span class="cf">in</span> preNstage){</span>
<span id="cb171-8"><a href="#cb171-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(main <span class="cf">in</span> mainNstage){</span>
<span id="cb171-9"><a href="#cb171-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(post <span class="cf">in</span> postNstage){</span>
<span id="cb171-10"><a href="#cb171-10" aria-hidden="true" tabindex="-1"></a>      Nstagecodes <span class="ot">&lt;-</span> <span class="fu">append</span>(Nstagecodes, <span class="fu">paste0</span>(pre, main, post))</span>
<span id="cb171-11"><a href="#cb171-11" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb171-12"><a href="#cb171-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb171-13"><a href="#cb171-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb171-14"><a href="#cb171-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-15"><a href="#cb171-15" aria-hidden="true" tabindex="-1"></a><span class="co">#freq(hpdata$Nstage) #Maybe don't include this.</span></span>
<span id="cb171-16"><a href="#cb171-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-17"><a href="#cb171-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-18"><a href="#cb171-18" aria-hidden="true" tabindex="-1"></a>missing_codes <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(<span class="fu">unique</span>(hpdata<span class="sc">$</span>NStage)[<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">unique</span>(hpdata<span class="sc">$</span>NStage))], Nstagecodes)</span>
<span id="cb171-19"><a href="#cb171-19" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">length</span>(missing_codes)<span class="sc">&gt;</span><span class="dv">0</span>){</span>
<span id="cb171-20"><a href="#cb171-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">paste</span>(<span class="fu">length</span>(missing_codes), <span class="st">"Missing Codes"</span>), <span class="fu">paste</span>(<span class="st">"Missing Codes:"</span>, <span class="fu">paste</span>(missing_codes, <span class="at">collapse =</span> <span class="st">", "</span>)), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb171-21"><a href="#cb171-21" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb171-22"><a href="#cb171-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"No Missing Codes"</span>)</span>
<span id="cb171-23"><a href="#cb171-23" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>87 Missing Codes
Missing Codes: N0(SNB), pN0sn, pNIbiv, pN1(mi), Pn1, N1 micro, pN1mic(SN), N1a(mic)(sn), ypN2a, N0sn, pN, N1(SNB OSNA), pN(ONSA)1, pNx, ypN2, ypN3a, pN(OSNA)1, pN0(mo1-)sn, pNo(sn), 0, N1mc(sn), pT0(sn), pN1mic, ypN1, Pnx, yN0, ypN0sn, ypN0(sn), Nx, pN0(0/3), pN(sn), pNO(sn), ypN0, pN1sn, Pn2(9/11), Pn0, N0 (sn), pN1(2/35), L1 N0, Pn0(SN), pN1mic(sn), pN1osna(mic), pN0(sn)(OSNA), pN(sn)0, pN2s, N0(2sn+3non-sn), NO(sn), pyN0, pN(sn)OSNA, pN0(sn)OSNA, pN1(sn)(mol+), pMx, N1(mi), N1mic, pN0(sn0, pN0(i+), ypN1mi(sn), pNoi+(sn), pN0(s), pN(sn)1, Pn0(0/9), ypN1a, pN1/3(sn), N1(1mic; 1itc), pN(sn)OSNAx, pN(OSNA)1mic, pN0(i+)(sn), pN0(sn)(mol-), N1(SNB by OSNA), ypN1(sn), pTN0(sn), pN0 (sn), pN0(sn)(ONSA), pN0 (TNM7), ypN1a(sn), N(sn)0, N(sn)1, pN0(SN), N1a(SNB), ypN0 (0/1), pN(OSNA)0, pN0(0/3)(sn), pN0(ans), N0(OSNA), N0 (OSNA), pNmi, yN1</code></pre>
</div>
</div>
</section>
<section id="mstage" class="level5">
<h5 class="anchored" data-anchor-id="mstage">MStage</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>preMstage <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"c"</span>, <span class="st">"p"</span>, <span class="st">""</span>)</span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a>mainMstage <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"M0"</span>, <span class="st">"M0(i+)"</span>, <span class="st">"M1"</span>)</span>
<span id="cb173-3"><a href="#cb173-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-4"><a href="#cb173-4" aria-hidden="true" tabindex="-1"></a>Mstagecodes <span class="ot">&lt;-</span> <span class="fu">character</span>(<span class="dv">0</span>)</span>
<span id="cb173-5"><a href="#cb173-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-6"><a href="#cb173-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(pre <span class="cf">in</span> preMstage){</span>
<span id="cb173-7"><a href="#cb173-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(main <span class="cf">in</span> mainMstage){</span>
<span id="cb173-8"><a href="#cb173-8" aria-hidden="true" tabindex="-1"></a>    Mstagecodes <span class="ot">&lt;-</span> <span class="fu">append</span>(Mstagecodes, <span class="fu">paste0</span>(pre, main))</span>
<span id="cb173-9"><a href="#cb173-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb173-10"><a href="#cb173-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb173-11"><a href="#cb173-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-12"><a href="#cb173-12" aria-hidden="true" tabindex="-1"></a>missing_codes <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(<span class="fu">unique</span>(hpdata<span class="sc">$</span>MStage)[<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">unique</span>(hpdata<span class="sc">$</span>MStage))], Mstagecodes)</span>
<span id="cb173-13"><a href="#cb173-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">length</span>(missing_codes)<span class="sc">&gt;</span><span class="dv">0</span>){</span>
<span id="cb173-14"><a href="#cb173-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">paste</span>(<span class="fu">length</span>(missing_codes), <span class="st">"Missing Codes"</span>), <span class="fu">paste</span>(<span class="st">"Missing Codes:"</span>, <span class="fu">paste</span>(missing_codes, <span class="at">collapse =</span> <span class="st">", "</span>)), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb173-15"><a href="#cb173-15" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb173-16"><a href="#cb173-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"No Missing Codes"</span>)</span>
<span id="cb173-17"><a href="#cb173-17" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>17 Missing Codes
Missing Codes: pMX, Mx, MX, pMx, ptMX, ypMx, MX G3, Pmx, pMX (stage1), MxG1, NA, ypM0, pMx (Stage 1), MX L1G2, ypMX, pMx (stage1), M0  IIB</code></pre>
</div>
</div>
</section>
</section>
<section id="excision-status" class="level4">
<h4 class="anchored" data-anchor-id="excision-status">Excision Status</h4>
<section id="excisionmargin" class="level5">
<h5 class="anchored" data-anchor-id="excisionmargin">ExcisionMargin</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>ExcisionMargin, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$ExcisionMargin  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
        NRM   1810     80.88     63.38
        RRM    428     19.12     14.99
       &lt;NA&gt;    618               21.64
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"ExcisionMargin"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="closestrelevantmargin" class="level5">
<h5 class="anchored" data-anchor-id="closestrelevantmargin">ClosestRelevantMargin</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(hpdata<span class="sc">$</span>ClosestRelevantMargin)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
  0.020   1.000   3.000   4.686   6.000  55.000    1109 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(hpdata<span class="sc">$</span>ClosestRelevantMargin, <span class="at">main =</span> <span class="st">"Closest Relevant Margin"</span>, <span class="at">xlab =</span> <span class="st">"Distance (mm)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Histopathology-QC_files/figure-html/unnamed-chunk-52-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="er_status" class="level5">
<h5 class="anchored" data-anchor-id="er_status">ER_Status</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>ER_Status, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$ER_Status  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          N    367     15.64     12.85
         NP     20      0.85      0.70
          P   1960     83.51     68.63
       &lt;NA&gt;    509               17.82
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"ER_Status"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="er_type" class="level5">
<h5 class="anchored" data-anchor-id="er_type">ER_Type</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>ER_Type, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$ER_Type  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          I      1     0.051     0.035
         IP    119     6.081     4.167
         MD      1     0.051     0.035
          P     13     0.664     0.455
         QS   1823    93.153    63.831
       &lt;NA&gt;    899              31.478
      Total   2856   100.000   100.000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"ER_Type"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="pr_status" class="level5">
<h5 class="anchored" data-anchor-id="pr_status">PR_Status</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>PR_Status, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$PR_Status  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          N    522    31.370    18.277
         NP     95     5.709     3.326
          p      1     0.060     0.035
          P   1046    62.861    36.625
       &lt;NA&gt;   1192              41.737
      Total   2856   100.000   100.000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"PR_Status"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 Missing Codes
Missing Codes: p</code></pre>
</div>
</div>
</section>
<section id="pr_type" class="level5">
<h5 class="anchored" data-anchor-id="pr_type">PR_Type</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>Pr_Type, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$Pr_Type  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          I      2     0.163     0.070
         IP     87     7.096     3.046
         MD      1     0.082     0.035
          P     12     0.979     0.420
         QS   1124    91.680    39.356
       &lt;NA&gt;   1630              57.073
      Total   2856   100.000   100.000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"PR_Type"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="her2_status" class="level5">
<h5 class="anchored" data-anchor-id="her2_status">HER2_Status</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>HER2_Status, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$HER2_Status  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          B     15      0.72      0.53
          N   1695     81.77     59.35
         NP     50      2.41      1.75
          P    313     15.10     10.96
       &lt;NA&gt;    783               27.42
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"HER2_Status"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="her2_score" class="level5">
<h5 class="anchored" data-anchor-id="her2_score">HER2_Score</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>HER2_Score, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$HER2_Score  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          0    361    25.603    12.640
       0/1+      4     0.284     0.140
       1/2+      2     0.142     0.070
         1+    555    39.362    19.433
      1+/2+      2     0.142     0.070
       2/3+      2     0.142     0.070
         2+    280    19.858     9.804
      2+/3+      3     0.213     0.105
          3      1     0.071     0.035
         3+    200    14.184     7.003
       &lt;NA&gt;   1446              50.630
      Total   2856   100.000   100.000</code></pre>
</div>
</div>
<p>No current codes given for this.</p>
</section>
<section id="her2_fish" class="level5">
<h5 class="anchored" data-anchor-id="her2_fish">HER2_FISH</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>HER2_FISH, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$HER2_FISH  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          A     53     15.19      1.86
          N    171     49.00      5.99
        NEG     80     22.92      2.80
         NP     27      7.74      0.95
        POS     18      5.16      0.63
       &lt;NA&gt;   2507               87.78
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"HER2_FISH"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="ck56_status" class="level5">
<h5 class="anchored" data-anchor-id="ck56_status">CK56_Status</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>CK56_Status, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$CK56_Status  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          N     14     46.67      0.49
          P     16     53.33      0.56
       &lt;NA&gt;   2826               98.95
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"CK56_Status"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="ck56_type" class="level5">
<h5 class="anchored" data-anchor-id="ck56_type">CK56_Type</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>CK56_Type, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$CK56_Type  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          I      2    100.00      0.07
       &lt;NA&gt;   2854               99.93
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"CK56_Type"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="ki67" class="level5">
<h5 class="anchored" data-anchor-id="ki67">Ki67</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb216"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(hpdata<span class="sc">$</span>Ki67, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   2.00    5.00   15.00   18.51   25.00   80.00    2780 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(hpdata<span class="sc">$</span>Ki67, <span class="at">main =</span> <span class="st">"Percentage Positive Ki67 Nuclei"</span>, <span class="at">xlab =</span> <span class="st">"Percentage (%)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Histopathology-QC_files/figure-html/unnamed-chunk-62-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="icdmorphologycode" class="level5">
<h5 class="anchored" data-anchor-id="icdmorphologycode">ICDMorphologyCode</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>ICDMorphologyCode, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$ICDMorphologyCode  
Type: Character  

               Freq   % Valid   % Total
------------ ------ --------- ---------
      M09450      2     0.307     0.070
      M09460      1     0.153     0.035
      M80003      1     0.153     0.035
      M80013      1     0.153     0.035
      M80102      5     0.767     0.175
      M80103     14     2.147     0.490
      M80106      4     0.613     0.140
      M80502      1     0.153     0.035
      M81233      1     0.153     0.035
      M81402      1     0.153     0.035
      M81403     26     3.988     0.910
      M81406      2     0.307     0.070
      M82013      2     0.307     0.070
      M82113      5     0.767     0.175
      M82302      3     0.460     0.105
      M84803      5     0.767     0.175
      m85002      1     0.153     0.035
      M85002     78    11.963     2.731
      M85003    410    62.883    14.356
      M85005      1     0.153     0.035
      M85032      1     0.153     0.035
      M85043      1     0.153     0.035
      M85202      5     0.767     0.175
      M85203     67    10.276     2.346
      M85213     10     1.534     0.350
      M85223      2     0.307     0.070
      M85403      2     0.307     0.070
        &lt;NA&gt;   2204              77.171
       Total   2856   100.000   100.000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a>firstcode <span class="ot">&lt;-</span> <span class="fu">str_sub</span>(hpdata<span class="sc">$</span>ICDMorphologyCode, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb221-2"><a href="#cb221-2" aria-hidden="true" tabindex="-1"></a>code <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">str_sub</span>(hpdata<span class="sc">$</span>ICDMorphologyCode, <span class="dv">2</span>, <span class="sc">-</span><span class="dv">1</span>))</span>
<span id="cb221-3"><a href="#cb221-3" aria-hidden="true" tabindex="-1"></a>codemask <span class="ot">&lt;-</span> (code<span class="sc">&gt;</span><span class="dv">80000</span> <span class="sc">&amp;</span> code <span class="sc">&lt;</span><span class="dv">90550</span>)</span>
<span id="cb221-4"><a href="#cb221-4" aria-hidden="true" tabindex="-1"></a>missing_MCodes <span class="ot">&lt;-</span> hpdata<span class="sc">$</span>ICDMorphologyCode[<span class="fu">which</span>(<span class="sc">!</span><span class="fu">is.na</span>(hpdata<span class="sc">$</span>ICDMorphologyCode) <span class="sc">&amp;</span> (firstcode<span class="sc">!=</span><span class="st">"M"</span> <span class="sc">|</span> codemask<span class="sc">==</span><span class="dv">0</span>))]</span>
<span id="cb221-5"><a href="#cb221-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste</span>(<span class="fu">length</span>(missing_MCodes), <span class="st">"Missing Codes"</span>), <span class="fu">paste</span>(<span class="st">"Missing Codes:"</span>, <span class="fu">paste</span>(missing_MCodes, <span class="at">collapse =</span> <span class="st">", "</span>)), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>4 Missing Codes
Missing Codes: M09460, M09450, M09450, m85002</code></pre>
</div>
</div>
<p>Would like a more thorough ICDM system implemented here. Will look into it.</p>
</section>
<section id="brca1" class="level5">
<h5 class="anchored" data-anchor-id="brca1">BrCa1</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb223"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>BrCa1, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$BrCa1  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          Y      7    100.00      0.25
       &lt;NA&gt;   2849               99.75
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb225"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"BrCa1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
<section id="brca2" class="level5">
<h5 class="anchored" data-anchor-id="brca2">BrCa2</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb227"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(hpdata<span class="sc">$</span>BrCa2, <span class="at">cumul =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequencies  
hpdata$BrCa2  
Type: Character  

              Freq   % Valid   % Total
----------- ------ --------- ---------
          Y      8    100.00      0.28
       &lt;NA&gt;   2848               99.72
      Total   2856    100.00    100.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb229"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb229-1"><a href="#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_missing_factors</span>(<span class="st">"BrCa2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No Missing Codes</code></pre>
</div>
</div>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>